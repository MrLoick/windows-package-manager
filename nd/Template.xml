<?xml version="1.0" encoding="UTF-8"?>

<!--
    This file is part of Npackd.

    Npackd is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Npackd is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Npackd.  If not, see <http://www.gnu.org/licenses/>.
-->

<root>
    <spec-version>2</spec-version>
    
    <!--
        The package versions are not sorted by the package, but different
        version
        of a package should stay together. Newer versions should appear under
        older ones.
    -->
    <version name="1" 
            package="com.advancedinstaller.AdvancedInstallerFreeware"
            type="one-file">
        <file path=".WPM\Install.bat">if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.NpackdInstallerHelper" "--versions=[1, 1]"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set npackdih=%%x
call "%npackdih%\InstallMSI.bat" APPDIR
</file>
        <file path=".WPM\Uninstall.bat">if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.NpackdInstallerHelper" "--versions=[1, 1]"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set npackdih=%%x
call "%npackdih%\UninstallMSI.bat"
</file>
        <url>http://www.advancedinstaller.com/downloads/advinst.msi</url>
        <dependency package="com.googlecode.windows-package-manager.NpackdInstallerHelper" versions="[1, 1]"/>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1.15.7, 2)"/>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1, 1]"/>
    </version>
    
    <version name="1" package="net.sourceforge.aria2.Aria2">
        <file path=".WPM\Install.bat">for /f %%x in ('dir /b aria*') do set name=%%x
xcopy "%name%\*" . /E /H
rmdir /s /q "%name%"
</file>
        <important-file path="README.html" title="Read Me"/>
        <url>https://downloads.sourceforge.net/project/aria2/stable/aria2-1.14.2/aria2-1.14.2-mingw32msvc-build1.zip?ts=1331392207</url>
        <sha1>9453318175df62162f0967ab149a7aa7a18fa2b5</sha1>
    </version>

    <version name="1" package="net.blat.Blat">
        <file path=".WPM\Install.bat">for /f "delims=" %%x in ('dir /b blat*') do set name=%%x
move %name%\docs docs
copy %name%\full\*.* .
rmdir /s /q %name%
if %errorlevel% neq 0 exit /b %errorlevel%

if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.CLU" "--versions=[1, 2)"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set clu=%%x
"%clu%\clu" add-path --path "%CD%"
verify
</file>
        <file path=".WPM\Uninstall.bat">if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.CLU" "--versions=[1, 2)"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set clu=%%x
"%clu%\clu" remove-path --path "%CD%"
verify
</file>
        <url>http://downloads.sourceforge.net/project/blat/Blat%20Full%20Version/32%20bit%20versions/Win2000%20and%20newer/blat${{actualVersionWithoutDots}}_32.full.zip</url>
        <sha1>09acf08ee42ec5cec3c25c1a82ec9a7d6bd79446</sha1>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1.15.7, 2)"/>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1, 1]"/>
        <dependency package="com.googlecode.windows-package-manager.CLU" versions="[1, 2)"/>
    </version>

    <version name="1" package="net.sourceforge.aria2.Aria2_64">
        <file path=".WPM\Install.bat">for /f %%x in ('dir /b aria*') do set name=%%x
xcopy "%name%\*" . /E /H
rmdir /s /q "%name%"
</file>
        <important-file path="README.html" title="Read Me"/>
        <url>http://downloads.sourceforge.net/project/aria2/stable/aria2-${{actualVersion}}/aria2-${{actualVersion}}-x86_64-w64-mingw32-build1.zip</url>
        <sha1>9453318175df62162f0967ab149a7aa7a18fa2b5</sha1>
    </version>

    <version name="1" package="net.blat.Blat64">
        <file path=".WPM\Install.bat">for /f "delims=" %%x in ('dir /b blat*') do set name=%%x
move %name%\docs docs
copy %name%\full\*.* .
rmdir /s /q %name%
if %errorlevel% neq 0 exit /b %errorlevel%

if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.CLU" "--versions=[1, 2)"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set clu=%%x
"%clu%\clu" add-path --path "%CD%"
verify
</file>
        <file path=".WPM\Uninstall.bat">if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.CLU" "--versions=[1, 2)"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set clu=%%x
"%clu%\clu" remove-path --path "%CD%"
verify
</file>
        <url>http://downloads.sourceforge.net/project/blat/Blat%20Full%20Version/64%20bit%20versions/blat${{actualVersionWithoutDots}}_64.full.zip</url>
        <sha1>76c1e6e7f544ce4feb6358d8b7e98ec51148cdd5</sha1>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1.15.7, 2)"/>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1, 1]"/>
        <dependency package="com.googlecode.windows-package-manager.CLU" versions="[1, 2)"/>
    </version>

    <version name="1" package="org.blender.Blender">
        <file path=".WPM\Install.bat">for /f "delims=" %%x in ('dir /b blender*') do set name=%%x
cd "%name%"        
for /f "delims=" %%a in ('dir /b') do (
  move "%%a" ..
)
cd ..
rmdir "%name%"
</file>
        <important-file path="blender.exe" title="Blender"/>
        <url>http://download.blender.org/release/Blender2.63/blender-2.63-release-windows32.zip</url>
        <sha1>410ca8f8950a101d403c85981ea2066fbf6cd37f</sha1>
    </version>

    <version name="1" package="org.blender.Blender64">
        <file path=".WPM\Install.bat">for /f "delims=" %%x in ('dir /b blender*') do set name=%%x
cd "%name%"        
for /f "delims=" %%a in ('dir /b') do (
  move "%%a" ..
)
cd ..
rmdir "%name%"
</file>
        <important-file path="blender.exe" title="Blender"/>
        <url>http://download.blender.org/release/Blender2.63/blender-2.63-release-windows64.zip</url>
        <sha1>dc964e52d30ae7df688d93d34fe8073687769f6f</sha1>
    </version>

    <version name="1" package="com.piriform.CCleaner" type="one-file">
        <important-file path="CCleaner.exe" title="CCleaner"/>
        <file path=".WPM\Install.bat">for /f %%x in ('dir /b *.exe') do set setup=%%x
"%setup%" /S /D=%CD%
</file>
        <file path=".WPM\Uninstall.bat">uninst.exe /S _?=%CD%</file>
        <url>http://download.piriform.com/ccsetup317.exe</url>
    </version>

    <version name="1" package="se.cdburnerxp.CDBurnerXP">
        <important-file path="cdbxpp.exe" title="CDBurnerXP"/>
        <url>http://download.cdburnerxp.se/portable/CDBurnerXP-4.4.0.3018.zip</url>
        <dependency package="com.microsoft.DotNetRedistributable"
                versions="[2.0, 5)"/>
        <sha1>f87a1da9dac097eec334ee08fc7d65ba10d30877</sha1>
    </version>

    <version name="1" package="se.cdburnerxp.CDBurnerXP64">
        <important-file path="cdbxpp.exe" title="CDBurnerXP"/>
        <url>http://download.cdburnerxp.se/portable/CDBurnerXP-x64-4.4.0.3018.zip</url>
        <dependency package="com.microsoft.DotNetRedistributable"
                versions="[2.0, 5)"/>
        <sha1>733bf5642e3e3a1d4aa5e4b1af851851da39a9ca</sha1>
    </version>

    <version name="1" package="com.googlecode.gitextensions.GitExtensions"
            type="one-file">
        <file path=".WPM\Install.bat">if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.NpackdInstallerHelper" "--versions=[1, 1]"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set npackdih=%%x
call "%npackdih%\InstallMSI.bat" INSTALLDIR
</file>
        <file path=".WPM\Uninstall.bat">if "%npackd_cl%" equ "" set npackd_cl=..\com.googlecode.windows-package-manager.NpackdCL-1
set onecmd="%npackd_cl%\npackdcl.exe" "path" "--package=com.googlecode.windows-package-manager.NpackdInstallerHelper" "--versions=[1, 1]"
for /f "usebackq delims=" %%x in (`%%onecmd%%`) do set npackdih=%%x
call "%npackdih%\UninstallMSI.bat"
</file>
        <dependency package="com.googlecode.windows-package-manager.NpackdInstallerHelper" versions="[1, 1]"/>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1.15.7, 2)"/>
        <dependency package="com.googlecode.windows-package-manager.NpackdCL" versions="[1, 1]"/>
        <dependency package="com.googlecode.msysgit.MSysGit" 
                versions="[1.7.4.2011.2.4, 2)"/>
        <url>http://gitextensions.googlecode.com/files/GitExtensions231Setup.msi</url>
        <sha1>733bf5642e3e3a1d4aa5e4b1af851851da39a9ca</sha1>
    </version>
</root>
